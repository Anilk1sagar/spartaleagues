(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{WCwK:function(l,n,t){"use strict";t.r(n);var u=t("3xsP"),e=t("UTcu"),a=t("mhOz"),o=(t("0Xv1"),t("o0su"),t("bvlS"),function(){function l(l,n,t,u){var e=this;this.route=l,this.paymentS=n,this.flashMessage=t,this.localSS=u,this.count=0,this.user=this.localSS.getParticipantUser(),this.route.params.subscribe(function(l){e.payment_id=l.payment_id,e.txnId=l.txnId,e.status=l.status,e.localSS.storePaymentStatus({payment_id:e.payment_id,txnId:e.txnId}),"success"==e.status&&(e.count<1?(e.addParticipantUser(),e.sendInvoice()):e.flashAlert("Invoice already sent!","flashMeassage-danger",3e3),localStorage.removeItem("ParticipateUser"))})}return l.prototype.ngOnInit=function(){},l.prototype.addParticipantUser=function(){var l=this;console.log("Add participant user Function!");var n=this.localSS.getPaymentStatus(),t=this.localSS.getCompetetion(),u={competetionName:t.name,competetionDate:t.date,gameName:t.gameName,payment_id:n.payment_id,txnId:n.txnId,mode:this.user.mode,teamName:this.user.teamName.toLowerCase(),contact:this.user.contact,emails:this.user.emails};console.log("Add participant User Data: ",u),this.paymentS.addParticipantUser(u).subscribe(function(n){n.success?(l.count=1,l.flashAlert(n.msg,"flashMeassage-success",5e3)):(l.count=0,l.flashAlert(n.msg,"flashMeassage-success",7e3))})},l.prototype.sendInvoice=function(){var l=this;console.log("Send Invoice Function runs!");var n=this.localSS.getPaymentStatus(),t=this.localSS.getCompetetion(),u={competetionName:t.name,amount:"singlePlayerMode"==this.user.mode?t.entryFees.singlePlayerMode:t.entryFees.multiPlayerMode,payment_id:n.payment_id,txnId:n.txnId,emails:this.user.emails};console.log("Payment Invoice Data: ",u),this.paymentS.sendPaymentInvoice(u).subscribe(function(n){n.success?(l.count=1,l.flashAlert(n.msg,"flashMeassage-success",3e3)):l.count=0})},l.prototype.flashAlert=function(l,n,t){this.flashMessage.show(l,{cssClass:n,timeout:t})},l}()),s=function(){},d=t("1FVJ"),i=t("qktC"),c=t("hxUH"),r=t("FAUO"),m=u["\u0275crt"]({encapsulation:0,styles:[[".as-card[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:50px}.as-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;color:#2ac02a}.as-card[_ngcontent-%COMP%]   .payment-failed-conatiner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;color:#cc2b2b}"]],data:{}});function p(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),u["\u0275eld"](2,0,null,null,33,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](4,0,null,null,0,"i",[["class","far fa-check-circle"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](8,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Payment Success!"])),(l()(),u["\u0275eld"](10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Thank you for participating with spartaleagues - we appreciate your business. You will receive a confirmation email shortly."])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](15,0,null,null,12,"p",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),u["\u0275eld"](17,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Payment Id: "])),(l()(),u["\u0275eld"](19,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](20,null,["",""])),(l()(),u["\u0275eld"](21,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),u["\u0275eld"](23,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Txn Id: "])),(l()(),u["\u0275eld"](25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](26,null,["",""])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](29,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Check your status here"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](32,0,null,null,2,"a",[["class","btn btn-primary btn-sm"],["routerLink","/profile"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u["\u0275nov"](l,33).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),u["\u0275did"](33,671744,null,0,a.m,[a.k,a.a,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),u["\u0275ted"](-1,null,["Profile"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t"]))],function(l,n){l(n,33,0,"/profile")},function(l,n){var t=n.component;l(n,20,0,t.payment_id),l(n,26,0,t.txnId),l(n,32,0,u["\u0275nov"](n,33).target,u["\u0275nov"](n,33).href)})}function f(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,36,"div",[["class","row payment-failed-conatiner"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),u["\u0275eld"](2,0,null,null,33,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](4,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](8,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Payment Failed!"])),(l()(),u["\u0275eld"](10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Your transaction has been cancled!. Please try again"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](15,0,null,null,12,"p",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),u["\u0275eld"](17,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Payment Id: "])),(l()(),u["\u0275eld"](19,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](20,null,["",""])),(l()(),u["\u0275eld"](21,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(l()(),u["\u0275eld"](23,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Txn Id: "])),(l()(),u["\u0275eld"](25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](26,null,["",""])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](29,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Go back to checkout"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t\t"])),(l()(),u["\u0275eld"](32,0,null,null,2,"a",[["class","btn btn-primary btn-sm"],["routerLink","/checkout"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u["\u0275nov"](l,33).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),u["\u0275did"](33,671744,null,0,a.m,[a.k,a.a,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),u["\u0275ted"](-1,null,["Checkout"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t\t"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t"]))],function(l,n){l(n,33,0,"/checkout")},function(l,n){var t=n.component;l(n,20,0,t.payment_id),l(n,26,0,t.txnId),l(n,32,0,u["\u0275nov"](n,33).target,u["\u0275nov"](n,33).href)})}function h(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,12,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t"])),(l()(),u["\u0275eld"](3,0,null,null,8,"div",[["class","as-card shadow1 text-center"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["\n\t\t"])),(l()(),u["\u0275and"](16777216,null,null,1,null,p)),u["\u0275did"](6,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275ted"](-1,null,["\n\n\t\t"])),(l()(),u["\u0275ted"](-1,null,["\n\t\t"])),(l()(),u["\u0275and"](16777216,null,null,1,null,f)),u["\u0275did"](10,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275ted"](-1,null,["\n\t"])),(l()(),u["\u0275ted"](-1,null,["\n"])),(l()(),u["\u0275ted"](-1,null,["\n"]))],function(l,n){var t=n.component;l(n,6,0,"success"==t.status),l(n,10,0,"failure"==t.status)},null)}var y=u["\u0275ccf"]("app-payment-status",o,function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-payment-status",[],null,null,null,h,m)),u["\u0275did"](1,114688,null,0,o,[a.a,i.a,c.FlashMessagesService,r.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]);t.d(n,"PaymentStatusModuleNgFactory",function(){return g});var g=u["\u0275cmf"](s,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[y]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[u.LOCALE_ID,[2,d["\u0275a"]]]),u["\u0275mpd"](512,d.CommonModule,d.CommonModule,[]),u["\u0275mpd"](512,a.n,a.n,[[2,a.s],[2,a.k]]),u["\u0275mpd"](512,s,s,[]),u["\u0275mpd"](1024,a.i,function(){return[[{path:"",component:o,canActivate:[e.a]}]]},[])])})}}]);